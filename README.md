# cdh_serialization

C++序列化与反序列化

## 介绍

当序列化一个对象时，最理想的方法是直接复制内存，但是不同的平台，内存分布与数据长度不统一，还有一些多态等的问题，暂不考虑，所以按照各个对象，顺序调用函数进行序列化的方法，并保证序列化后各平台统一

序列化时，应保证依赖的对象（如指针）被序列化

进行树型分组依赖式序列化，即一次序列化，保证有一个根元素，并保证各元素的依赖关系正确，所有指针指向正确（如两个指向相同对象的指针）

## 对使用者的要求

1. 支持C++11（type_traits,rtti）
2. 暂时不处理const
3. 暂时不处理引用变量
4. 暂时非侵入式，意味着变量需要public
5. 暂时不处理数组，指针的指针，如C风格字符串等，可以使用自维护变长数组，如```std::vector```，```std::string```等

## 原理

1. 靠模板技术自动生成代码，尽量减少程序员的工作
2. 序列化前的指针 <=> 序列化后的id

## 代码举例 Snippet

### Hello world.

```c++
//TODO
```

### 建议

## TODO

1. 处理const
2. 处理引用
3. 侵入式
4. 处理数组，指针的指针